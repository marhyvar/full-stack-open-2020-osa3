{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","search","handleSearchChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","handleDeletePerson","name","number","onClick","Persons","found","map","key","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","message","error","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","margin","errorStyle","style","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","setFound","setMessage","setError","useEffect","personService","initialPersons","event","input","target","result","filter","toLowerCase","indexOf","preventDefault","personObject","find","personToUpdate","window","confirm","returnedPerson","newArray","setTimeout","catch","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d12ce82a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({search, handleSearchChange}) => {\r\n    return (\r\n        <div>\r\n            Filter shown with: <input \r\n                value={search}\r\n                onChange={handleSearchChange}\r\n            />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, \r\n    handleNameChange, newNumber, handleNumberChange}) => {\r\n        return (\r\n            <div>\r\n                <form onSubmit={addPerson}>\r\n                    <div>\r\n                    name: <input \r\n                        value={newName}\r\n                        onChange={handleNameChange}\r\n                    />\r\n                    </div>\r\n                    <div>\r\n                    number: <input \r\n                        value={newNumber}\r\n                        onChange={handleNumberChange}\r\n                    />\r\n                    </div>\r\n                    <div>\r\n                    <button type=\"submit\">add</button>\r\n                    </div>\r\n                </form>            \r\n            </div>\r\n        )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person, handleDeletePerson}) => (\r\n    <p>\r\n      {person.name} {person.number}\r\n      <button value={person.name} onClick={handleDeletePerson}>Delete</button>\r\n    </p>\r\n)\r\n\r\nconst Persons = ({found, handleDeletePerson}) => {\r\n    return (\r\n        <div>\r\n          {found.map(person =>\r\n            <Person\r\n              key={person.name}\r\n              person={person}\r\n              handleDeletePerson={handleDeletePerson}\r\n            />\r\n          )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update }","import React from 'react'\r\n\r\nconst Notification = ({message, error}) => {\r\n\r\n    const notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightyellow',\r\n        fontSize: 18,\r\n        borderStyle: 'solid',\r\n        borderRadius: 3,\r\n        padding: 8,\r\n        margin: 5\r\n    }\r\n    const errorStyle = {\r\n        color: 'red', \r\n        background: 'lightyellow',\r\n        fontSize: 18,\r\n        borderStyle: 'dotted',\r\n        borderRadius: 3,\r\n        padding: 8,\r\n        margin: 5\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    const divStyle = () => (\r\n         error === true ? errorStyle : notificationStyle\r\n    )\r\n\r\n    return (\r\n        <div style={divStyle()}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","// lähteenä käytetty https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\r\n\r\nimport React, { useState, useEffect } from 'react'\r\n\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ search, setNewSearch ] = useState('')\r\n  const [ found, setFound] = useState(persons)\r\n  const [ message, setMessage ] = useState(null)\r\n  const [ error, setError ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n        setFound(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    const person = persons.find(({name}) => \r\n    name === newName)\r\n    if (person) {\r\n      const id = person.id\r\n      const personToUpdate = {...person, number: newNumber}\r\n      if (window.confirm(`${newName} is already added to phonebook, \r\n      replace the old number with new one?`)) {\r\n        personService\r\n          .update(id, personToUpdate)\r\n          .then(returnedPerson => {\r\n            const newArray = persons.map(person => \r\n              person.id !== id ? person: returnedPerson)\r\n            setPersons(newArray)\r\n            setFound(newArray)\r\n            setMessage(`Number of ${returnedPerson.name} has been updated`)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 4000)\r\n          })\r\n          .catch(error => {\r\n            setError(true)\r\n            setMessage(`Information of ${newName} has already been removed`)\r\n            setTimeout(() => {\r\n              setError(false)\r\n              setMessage(null)\r\n            }, 4000)\r\n            const newArray = persons.filter(person => person.id !== id)\r\n            setPersons(newArray)\r\n            setFound(newArray)\r\n          })\r\n      }\r\n    } else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          const newArray = persons.concat(returnedPerson)\r\n          setPersons(newArray)\r\n          setFound(newArray)\r\n          setMessage(`${returnedPerson.name} added to phonebook`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 4000)         \r\n        })\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(error.response.data)\r\n\t\t\tsetError(true)\r\n            setMessage(error.response.data.error)\r\n            setTimeout(() => {\r\n              setError(false)\r\n              setMessage(null)\r\n            }, 4000)\r\n\t\t})\r\n    }\r\n\t\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchChange = (event) => {\r\n    const input = event.target.value\r\n    setNewSearch(input)\r\n    const result = persons.filter(({name}) =>\r\n      name.toLowerCase().indexOf(input.toLowerCase()) !== -1)\r\n    setFound(result)\r\n  }\r\n\r\n  const handleDeletePerson = (event) => {\r\n    const result = persons.find(({name}) => name === event.target.value)\r\n    const id = result.id\r\n    if (window.confirm(`Delete ${result.name}?`)) {\r\n      personService.deletePerson(id)\r\n        .then(() => {\r\n          const newArray = persons.filter(person => person.id !== id)\r\n          setPersons(newArray)\r\n          setFound(newArray)\r\n          setMessage(`${result.name} deleted from phonebook`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 4000)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification\r\n        message={message} \r\n        error={error}  \r\n      />\r\n      <Filter \r\n        search={search}\r\n        handleSearchChange={handleSearchChange}\r\n      />\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        found={found} \r\n        handleDeletePerson={handleDeletePerson}\r\n      />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}